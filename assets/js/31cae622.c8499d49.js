"use strict";(self.webpackChunkmongodb_rag_docs=self.webpackChunkmongodb_rag_docs||[]).push([[5866],{8453:function(e,n,o){o.d(n,{R:function(){return s},x:function(){return t}});var a=o(6540);const r={},i=a.createContext(r);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}},9069:function(e,n,o){o.r(n),o.d(n,{assets:function(){return c},contentTitle:function(){return t},default:function(){return l},frontMatter:function(){return s},metadata:function(){return a},toc:function(){return d}});var a=JSON.parse('{"id":"examples/voyage-example","title":"Using VoyageAI Embeddings","description":"This example demonstrates how to use VoyageAI\'s embedding models with MongoDB-RAG for vector search.","source":"@site/docs/examples/voyage-example.md","sourceDirName":"examples","slug":"/examples/voyage-example","permalink":"/mongodb-rag/docs/examples/voyage-example","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/mongodb-rag/tree/main/mongodb-rag-docs/docs/examples/voyage-example.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"voyage-example","title":"Using VoyageAI Embeddings","sidebar_position":3},"sidebar":"docs","previous":{"title":"Advanced Example","permalink":"/mongodb-rag/docs/examples/advanced-example"},"next":{"title":"Create RAG App","permalink":"/mongodb-rag/docs/create-rag-app"}}'),r=o(4848),i=o(8453);const s={id:"voyage-example",title:"Using VoyageAI Embeddings",sidebar_position:3},t="Using VoyageAI Embeddings with MongoDB-RAG",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Using Different VoyageAI Models",id:"using-different-voyageai-models",level:2},{value:"Advanced Configuration",id:"advanced-configuration",level:2},{value:"Error Handling",id:"error-handling",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"using-voyageai-embeddings-with-mongodb-rag",children:"Using VoyageAI Embeddings with MongoDB-RAG"})}),"\n",(0,r.jsx)(n.p,{children:"This example demonstrates how to use VoyageAI's embedding models with MongoDB-RAG for vector search."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install the mongodb-rag package:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install mongodb-rag voyageai\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Get a VoyageAI API key from ",(0,r.jsx)(n.a,{href:"https://www.voyageai.com/",children:"VoyageAI's website"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Set up your environment variables:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export VOYAGE_API_KEY=your_api_key_here\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import MongoRAG from 'mongodb-rag';\nimport dotenv from 'dotenv';\n\n// Load environment variables\ndotenv.config();\n\nasync function main() {\n  // Initialize MongoRAG with VoyageAI provider\n  const rag = new MongoRAG({\n    mongoUrl: 'mongodb+srv://your-connection-string',\n    database: 'ragdb',\n    collection: 'documents',\n    embedding: {\n      provider: 'voyage',\n      apiKey: process.env.VOYAGE_API_KEY,\n      model: 'voyage-3' // This is the default model\n    }\n  });\n\n  // Connect to MongoDB\n  await rag.connect();\n\n  // Ingest some documents\n  await rag.ingestBatch([\n    {\n      documentId: 'doc1',\n      content: 'MongoDB is a document database with the scalability and flexibility that you want with the querying and indexing that you need.',\n      metadata: { source: 'MongoDB Website', category: 'Database' }\n    },\n    {\n      documentId: 'doc2',\n      content: 'Vector search in MongoDB allows you to search for documents based on semantic similarity using vector embeddings.',\n      metadata: { source: 'MongoDB Documentation', category: 'Search' }\n    }\n  ]);\n\n  // Perform a search\n  const results = await rag.search('How does vector search work?');\n  console.log(results);\n\n  // Close the connection\n  await rag.close();\n}\n\nmain().catch(console.error);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-different-voyageai-models",children:"Using Different VoyageAI Models"}),"\n",(0,r.jsx)(n.p,{children:"VoyageAI offers several embedding models optimized for different use cases:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// For general purpose (default)\nconst rag = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-3' // Default model\n  }\n});\n\n// For higher quality embeddings\nconst ragLarge = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-3-large' // Higher quality, larger model\n  }\n});\n\n// For faster, more efficient embeddings\nconst ragLite = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-3-lite' // Faster, more efficient\n  }\n});\n\n// For code-specific embeddings\nconst ragCode = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-code-3' // Optimized for code\n  }\n});\n\n// For finance-specific embeddings\nconst ragFinance = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-finance-2' // Optimized for finance\n  }\n});\n\n// For legal-specific embeddings\nconst ragLaw = new MongoRAG({\n  // MongoDB configuration...\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-law-2' // Optimized for legal content\n  }\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,r.jsx)(n.p,{children:"You can combine VoyageAI embeddings with advanced search options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const rag = new MongoRAG({\n  mongoUrl: 'mongodb+srv://your-connection-string',\n  database: 'ragdb',\n  collection: 'documents',\n  embedding: {\n    provider: 'voyage',\n    apiKey: process.env.VOYAGE_API_KEY,\n    model: 'voyage-3',\n    batchSize: 50 // Process 50 documents at a time\n  },\n  search: {\n    maxResults: 10,\n    minScore: 0.75,\n    similarityMetric: 'cosine'\n  }\n});\n\n// Search with metadata filtering\nconst results = await rag.search('vector search techniques', {\n  filter: { category: 'Search' }\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"try {\n  const rag = new MongoRAG({\n    // MongoDB configuration...\n    embedding: {\n      provider: 'voyage',\n      apiKey: process.env.VOYAGE_API_KEY,\n      model: 'voyage-3'\n    }\n  });\n  \n  await rag.connect();\n  const results = await rag.search('vector search');\n} catch (error) {\n  if (error.message.includes('VoyageAI API error')) {\n    console.error('Error with VoyageAI API:', error.message);\n    // Handle VoyageAI specific errors\n  } else {\n    console.error('General error:', error);\n  }\n}\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}}}]);