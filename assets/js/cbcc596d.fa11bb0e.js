"use strict";(self.webpackChunkmongodb_rag_docs=self.webpackChunkmongodb_rag_docs||[]).push([[6334],{2622:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return c},metadata:function(){return i},toc:function(){return h}});var i=JSON.parse('{"id":"workshop/RAG-Concepts/rag-introduction","title":"\ud83d\udcd7 Understanding RAG Concepts","description":"Before diving into implementation, let\'s understand what RAG is and why it\'s become such an important pattern in AI applications.","source":"@site/docs/workshop/30-RAG-Concepts/1-introduction.mdx","sourceDirName":"workshop/30-RAG-Concepts","slug":"/workshop/RAG-Concepts/rag-introduction","permalink":"/mongodb-rag/docs/workshop/RAG-Concepts/rag-introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/mongodb-rag/tree/main/mongodb-rag-docs/docs/workshop/30-RAG-Concepts/1-introduction.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"rag-introduction","title":"\ud83d\udcd7 Understanding RAG Concepts"},"sidebar":"docs","previous":{"title":"\ud83d\udc50 Creating a Cluster","permalink":"/mongodb-rag/docs/workshop/mongodb-atlas/setup-mongodb"},"next":{"title":"\ud83d\udcd7 How RAG Works","permalink":"/mongodb-rag/docs/workshop/RAG-Concepts/how-rag-works"}}'),s=t(4848),r=t(8453),a=t(5131),o=t(6313);const c={id:"rag-introduction",title:"\ud83d\udcd7 Understanding RAG Concepts"},l="Understanding Retrieval-Augmented Generation (RAG)",d={},h=[{value:"What is RAG?",id:"what-is-rag",level:2},{value:"Why Use RAG?",id:"why-use-rag",level:2},{value:"Core Components of RAG",id:"core-components-of-rag",level:2},{value:"1. Vector Database",id:"1-vector-database",level:3},{value:"2. Document Processing Pipeline",id:"2-document-processing-pipeline",level:3},{value:"3. Retrieval Mechanism",id:"3-retrieval-mechanism",level:3},{value:"4. Augmentation Strategy",id:"4-augmentation-strategy",level:3},{value:"5. LLM Interface",id:"5-llm-interface",level:3},{value:"The RAG Architecture with MongoDB Atlas",id:"the-rag-architecture-with-mongodb-atlas",level:2},{value:"Vector Search Fundamentals",id:"vector-search-fundamentals",level:2},{value:"Embeddings",id:"embeddings",level:3},{value:"Vector Similarity Metrics",id:"vector-similarity-metrics",level:3},{value:"Approximate Nearest Neighbor (ANN) Search",id:"approximate-nearest-neighbor-ann-search",level:3},{value:"Let&#39;s Check Your Understanding",id:"lets-check-your-understanding",level:2},{value:"Moving Forward",id:"moving-forward",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"understanding-retrieval-augmented-generation-rag",children:"Understanding Retrieval-Augmented Generation (RAG)"})}),"\n",(0,s.jsx)(n.p,{children:"Before diving into implementation, let's understand what RAG is and why it's become such an important pattern in AI applications."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-rag",children:"What is RAG?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Retrieval-Augmented Generation (RAG)"})," is an AI architecture pattern that enhances large language models (LLMs) by retrieving relevant information from external knowledge sources before generating responses."]}),"\n",(0,s.jsx)(n.p,{children:"The core workflow consists of:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Retrieval"}),": Finding relevant information from a knowledge base"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Augmentation"}),": Incorporating that information into the context"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generation"}),": Using an LLM to generate a response based on the augmented context"]}),"\n"]}),"\n","\n",(0,s.jsx)(o.A,{}),"\n",(0,s.jsx)(n.h2,{id:"why-use-rag",children:"Why Use RAG?"}),"\n",(0,s.jsx)(n.p,{children:"RAG addresses several limitations of standalone LLMs:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Up-to-date information"}),": LLMs are trained on historical data and don't know about recent events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Domain-specific knowledge"}),": Standard LLMs lack deep expertise in specialized domains"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hallucination reduction"}),": By grounding responses in retrieved facts, RAG reduces fabricated answers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data privacy"}),": Your proprietary data stays in your control rather than being sent to the LLM provider"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cost efficiency"}),": Retrieval can reduce the context length needed for complex questions"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"core-components-of-rag",children:"Core Components of RAG"}),"\n",(0,s.jsx)(n.p,{children:"A typical RAG system has these key components:"}),"\n",(0,s.jsx)(n.h3,{id:"1-vector-database",children:"1. Vector Database"}),"\n",(0,s.jsx)(n.p,{children:"Stores document embeddings and enables semantic search. MongoDB Atlas Vector Search provides this functionality with advanced features like:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"High-dimensional vector storage"}),"\n",(0,s.jsx)(n.li,{children:"Approximate nearest neighbor (ANN) search algorithms"}),"\n",(0,s.jsx)(n.li,{children:"Hybrid filtering (combining vector similarity with traditional queries)"}),"\n",(0,s.jsx)(n.li,{children:"Horizontal scaling for large collections"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-document-processing-pipeline",children:"2. Document Processing Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"Transforms raw documents into searchable chunks and embeddings:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Document loading from various sources"}),"\n",(0,s.jsx)(n.li,{children:"Text chunking strategies"}),"\n",(0,s.jsx)(n.li,{children:"Embedding generation"}),"\n",(0,s.jsx)(n.li,{children:"Metadata extraction"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-retrieval-mechanism",children:"3. Retrieval Mechanism"}),"\n",(0,s.jsx)(n.p,{children:"Finds the most relevant information given a query:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Vector similarity search"}),"\n",(0,s.jsx)(n.li,{children:"Re-ranking for relevance"}),"\n",(0,s.jsx)(n.li,{children:"Metadata filtering"}),"\n",(0,s.jsx)(n.li,{children:"Results fusion (combining multiple retrieval methods)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-augmentation-strategy",children:"4. Augmentation Strategy"}),"\n",(0,s.jsx)(n.p,{children:"How retrieved content is added to the prompt:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Document concatenation"}),"\n",(0,s.jsx)(n.li,{children:"Structured formatting"}),"\n",(0,s.jsx)(n.li,{children:"Relevance scoring"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic prompt construction"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-llm-interface",children:"5. LLM Interface"}),"\n",(0,s.jsx)(n.p,{children:"The generation component that produces the final output:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prompt engineering"}),"\n",(0,s.jsx)(n.li,{children:"Response generation"}),"\n",(0,s.jsx)(n.li,{children:"Output formatting"}),"\n",(0,s.jsx)(n.li,{children:"Fallback handling"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-rag-architecture-with-mongodb-atlas",children:"The RAG Architecture with MongoDB Atlas"}),"\n",(0,s.jsx)(n.p,{children:"When building RAG with MongoDB Atlas, the architecture typically looks like this:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MongoDB Atlas"})," serves as the vector database"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Embedding models"})," (like OpenAI's ",(0,s.jsx)(n.code,{children:"text-embedding-3-small"}),") create vector representations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"mongodb-rag library"})," handles document processing and retrieval"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLM providers"})," (OpenAI, Anthropic, etc.) generate the final responses"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In the following sections, you'll implement each piece of this architecture to build a complete RAG system."}),"\n",(0,s.jsx)(n.h2,{id:"vector-search-fundamentals",children:"Vector Search Fundamentals"}),"\n",(0,s.jsx)(n.p,{children:"Before moving on, it's important to understand some key concepts about vector search:"}),"\n",(0,s.jsx)(n.h3,{id:"embeddings",children:"Embeddings"}),"\n",(0,s.jsx)(n.p,{children:'Embeddings are numerical representations of text, images, or other data that capture semantic meaning.\nSimilar concepts have similar vector representations, enabling "similarity search."'}),"\n",(0,s.jsx)(n.p,{children:"For example, these sentences would have similar embeddings:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'"The dog chased the ball"'}),"\n",(0,s.jsx)(n.li,{children:'"A canine pursued a round toy"'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"vector-similarity-metrics",children:"Vector Similarity Metrics"}),"\n",(0,s.jsx)(n.p,{children:"Different distance functions measure similarity between vectors:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cosine similarity"}),": Measures the angle between vectors (1.0 = identical direction)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Euclidean distance"}),": Measures straight-line distance between points"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dot product"}),": Simple multiplication of vector components"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"approximate-nearest-neighbor-ann-search",children:"Approximate Nearest Neighbor (ANN) Search"}),"\n",(0,s.jsx)(n.p,{children:"For large vector collections, exact search is inefficient. ANN algorithms like HNSW (Hierarchical Navigable Small Worlds) provide faster results with minimal accuracy trade-offs."}),"\n",(0,s.jsx)(n.h2,{id:"lets-check-your-understanding",children:"Let's Check Your Understanding"}),"\n",(0,s.jsx)(a.A,{title:"RAG Concepts Check",questions:[{question:"What are the three main stages in the RAG workflow?",options:["Vectorization, Augmentation, Generation","Retrieval, Augmentation, Generation","Retrieval, Analysis, Generation","Research, Augmentation, Generation"],correctIndex:1,explanation:"The RAG (Retrieval-Augmented Generation) workflow consists of three main stages: Retrieval (finding relevant information from a knowledge base), Augmentation (incorporating that information into the context), and Generation (using an LLM to generate a response based on the augmented context)."},{question:"Which limitation of standalone LLMs does RAG address?",options:["Slow processing speed","Limited creative capabilities","Hallucination reduction","High energy consumption"],correctIndex:2,explanation:"RAG addresses several limitations of standalone LLMs including hallucination reduction. By grounding responses in retrieved facts, RAG reduces fabricated answers."},{question:"What similarity metrics does MongoDB Atlas Vector Search support?",options:["Only cosine similarity","Cosine similarity and Euclidean distance","Cosine similarity, Euclidean distance, and dot product","Only Euclidean distance"],correctIndex:2,explanation:"MongoDB Atlas Vector Search supports three similarity metrics: cosine similarity, Euclidean distance, and dot product."},{question:"What is an embedding in the context of vector search?",options:["A way to compress documents to save storage space","A numerical representation that captures semantic meaning","A method for encrypting sensitive information","A technique for translating text between languages"],correctIndex:1,explanation:"Embeddings are numerical representations of text, images, or other data that capture semantic meaning. Similar concepts have similar vector representations, enabling 'similarity search.'"},{question:"Why is Approximate Nearest Neighbor (ANN) search used in vector databases?",options:["It provides more accurate results than exact search","It's the only search method available for vector databases","It's more efficient for large collections with minimal accuracy trade-offs","It requires less storage space for embeddings"],correctIndex:2,explanation:"For large vector collections, exact search is inefficient. ANN algorithms like HNSW (Hierarchical Navigable Small Worlds) provide faster results with minimal accuracy trade-offs."}]}),"\n",(0,s.jsx)(n.h2,{id:"moving-forward",children:"Moving Forward"}),"\n",(0,s.jsx)(n.p,{children:"Now that you understand the core concepts behind RAG, let's set up your MongoDB Atlas environment to support vector search capabilities."})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},5131:function(e,n,t){t.d(n,{A:function(){return r}});var i=t(6540),s=t(4848);function r(e){let{title:n="Check Your Knowledge",questions:t=[]}=e;const[r,a]=(0,i.useState)(Array(t.length).fill(null)),[o,c]=(0,i.useState)(!1),[l,d]=(0,i.useState)(Array(t.length).fill(!1)),[h,u]=(0,i.useState)(0),m=r.reduce(((e,n,i)=>n===t[i].correctIndex?e+1:e),0);return(0,s.jsxs)("div",{className:"quiz-container",children:[(0,s.jsxs)("div",{className:"quiz-header",children:[(0,s.jsx)("h3",{children:n}),o&&(0,s.jsxs)("div",{className:"quiz-score",children:["Score: ",(0,s.jsx)("strong",{children:m})," / ",t.length]})]}),(0,s.jsxs)("div",{className:"quiz-question "+(o?r[h]===t[h].correctIndex?"correct-answer":"incorrect-answer":""),children:[(0,s.jsxs)("div",{className:"question-text",children:[(0,s.jsxs)("strong",{children:["Question ",h+1,":"]})," ",t[h].question]}),(0,s.jsx)("div",{className:"options-container",children:t[h].options.map(((e,n)=>(0,s.jsx)("div",{className:`option ${r[h]===n?"selected-option":""} ${o&&n===t[h].correctIndex?"correct-option":o&&r[h]===n?"incorrect-option":""}`,onClick:()=>!o&&((e,n)=>{const t=[...r];t[e]=n,a(t)})(h,n),children:(0,s.jsx)("div",{className:"option-text",children:e})},n)))}),o&&(0,s.jsxs)("div",{className:"explanation-section",children:[(0,s.jsx)("button",{className:"explanation-toggle",onClick:()=>(e=>{const n=[...l];n[e]=!n[e],d(n)})(h),children:l[h]?"Hide Explanation":"Show Explanation"}),l[h]&&(0,s.jsx)("div",{className:"explanation",children:t[h].explanation})]})]}),(0,s.jsxs)("div",{className:"quiz-controls",children:[(0,s.jsx)("button",{onClick:()=>{h>0&&u(h-1)},disabled:0===h,className:"back-button",children:"Back"}),(0,s.jsx)("button",{onClick:()=>{h<t.length-1&&u(h+1)},disabled:h===t.length-1,className:"next-button",children:"Next"}),o?(0,s.jsx)("button",{onClick:()=>{a(Array(t.length).fill(null)),c(!1),d(Array(t.length).fill(!1)),u(0)},className:"reset-button",children:"Try Again"}):(0,s.jsx)("button",{onClick:()=>{c(!0)},disabled:r.some((e=>null===e)),className:"check-button",children:"Check Answers"})]})]})}},6313:function(e,n,t){t.d(n,{A:function(){return l}});var i=t(6540),s=t(6191),r=t(312),a=t.n(r),o=t(4848);const c=[{id:1,title:"User Query",description:"The user submits a question, such as 'How does MongoDB Atlas Vector Search work?'",code:'const query = "How does MongoDB Atlas Vector Search work?";'},{id:2,title:"Vector Search",description:"The system retrieves relevant documents using vector search.",code:"const searchResults = await collection.aggregate([\n      { $vectorSearch: { queryVector: embedding, path: 'embedding', numCandidates: 100, limit: 10 } }\n    ]);"},{id:3,title:"Augmentation",description:"Retrieved documents are injected into the LLM prompt.",code:"const augmentedPrompt = `Context: {retrievedDocs}\\n\\nQuestion: {query}`;"},{id:4,title:"LLM Response",description:"The LLM generates an answer based on the augmented prompt.",code:"const response = await openai.chat.completions.create({\n      model: 'gpt-3.5-turbo',\n      messages: [{ role: 'system', content: 'Answer based on the provided context only.' },\n                 { role: 'user', content: augmentedPrompt }]\n    });"}];function l(){const[e,n]=(0,i.useState)(0),[t,r]=(0,i.useState)(!1),l=c[e];return(0,o.jsxs)("div",{className:"rag-container",children:[(0,o.jsx)("h2",{className:"rag-title",children:"How RAG Works"}),(0,o.jsxs)(s.P.div,{className:"rag-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,o.jsx)("span",{className:"rag-step-number",children:l.id}),(0,o.jsxs)("div",{className:"rag-step-content",children:[(0,o.jsx)("h3",{className:"rag-step-title",children:l.title}),(0,o.jsx)("p",{className:"rag-step-description",children:l.description}),(0,o.jsx)("button",{className:"rag-code-button",onClick:()=>r(!0),children:"View Code"})]})]},l.id),(0,o.jsxs)("div",{className:"rag-nav-buttons",children:[(0,o.jsx)("button",{className:"rag-nav-button",onClick:()=>{e>0&&n(e-1)},disabled:0===e,children:"\u25c0 Previous"}),(0,o.jsx)("button",{className:"rag-nav-button",onClick:()=>{e<c.length-1&&n(e+1)},disabled:e===c.length-1,children:"Next \u25b6"})]}),t&&(0,o.jsxs)(a(),{isOpen:t,onRequestClose:()=>r(!1),contentLabel:"Code Example",className:"rag-modal",overlayClassName:"rag-modal-overlay",children:[(0,o.jsxs)("h2",{className:"rag-modal-title",children:[l.title," - Code Example"]}),(0,o.jsx)("pre",{className:"rag-code-block",children:(0,o.jsx)("code",{children:l.code})}),(0,o.jsx)("button",{className:"rag-close-button",onClick:()=>r(!1),children:"Close"})]})]})}}}]);