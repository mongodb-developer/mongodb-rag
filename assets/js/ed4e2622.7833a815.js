"use strict";(self.webpackChunkmongodb_rag_docs=self.webpackChunkmongodb_rag_docs||[]).push([[6369],{3175:function(e,n,t){t.r(n),t.d(n,{assets:function(){return v},contentTitle:function(){return b},default:function(){return y},frontMatter:function(){return x},metadata:function(){return s},toc:function(){return f}});var s=JSON.parse('{"id":"workshop/RAG-Concepts/rag-concepts","title":"\ud83d\udcd7 Understanding RAG Concepts","description":"Before diving into implementation, let\'s understand what RAG is and why it\'s become such an important pattern in AI applications.","source":"@site/docs/workshop/30-RAG-Concepts/3-rag-concepts.mdx","sourceDirName":"workshop/30-RAG-Concepts","slug":"/workshop/RAG-Concepts/rag-concepts","permalink":"/mongodb-rag/docs/workshop/RAG-Concepts/rag-concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/mongodb-rag/tree/main/mongodb-rag-docs/docs/workshop/30-RAG-Concepts/3-rag-concepts.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"rag-concepts","title":"\ud83d\udcd7 Understanding RAG Concepts"},"sidebar":"docs","previous":{"title":"\ud83d\udcd7 How RAG Works","permalink":"/mongodb-rag/docs/workshop/RAG-Concepts/how-rag-works"},"next":{"title":"\ud83d\udcdd Check Your Knowledge","permalink":"/mongodb-rag/docs/workshop/RAG-Concepts/check-rag-knowledge"}}'),o=t(4848),i=t(8453),r=t(5131),a=t(6540);const c={container:{padding:"20px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f9f9f9",marginBottom:"20px",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},header:{fontSize:"18px",fontWeight:"bold",marginBottom:"16px",color:"#333"},strategySelector:{marginBottom:"16px"},button:{padding:"8px 16px",marginRight:"10px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},activeButton:{backgroundColor:"#3182ce",color:"white"},inactiveButton:{backgroundColor:"#e2e8f0",color:"#333"},controlRow:{display:"flex",gap:"16px",marginBottom:"16px"},controlGroup:{flex:1},label:{display:"block",marginBottom:"8px",fontWeight:"500"},input:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},textarea:{width:"100%",height:"150px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontFamily:"monospace",fontSize:"14px",marginBottom:"16px"},runButton:{padding:"10px 20px",backgroundColor:"#38a169",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},results:{marginTop:"20px",padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"white"},resultHeader:{fontWeight:"bold",marginBottom:"8px"},chunkList:{marginTop:"16px"},chunk:{padding:"12px",border:"1px solid #e0e0e0",borderRadius:"4px",marginBottom:"8px",backgroundColor:"#f5f5f5"},chunkHeader:{fontSize:"14px",color:"#666",marginBottom:"4px"},chunkContent:{fontFamily:"monospace",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};var l=()=>{const[e,n]=(0,a.useState)("sliding"),[t,s]=(0,a.useState)(500),[i,r]=(0,a.useState)(50),[l,d]=(0,a.useState)(null),h={id:"sample-doc",content:"# MongoDB Atlas Vector Search\n\nMongoDB Atlas Vector Search is a fully managed service that helps developers build vector search into their applications.\n\n## Key Features\n\nVector search in MongoDB Atlas provides several key capabilities:\n\n1. Integration with Atlas: Seamlessly works with your existing MongoDB Atlas deployment.\n2. Multiple similarity metrics: Supports cosine similarity, dot product, and Euclidean distance.\n3. Approximate nearest neighbor algorithms: Uses efficient indexing for fast searches.\n4. Hybrid search capabilities: Combine vector search with traditional MongoDB queries.",metadata:{source:"documentation",type:"markdown"}},[u,m]=(0,a.useState)(JSON.stringify(h,null,2));return(0,o.jsxs)("div",{style:c.container,children:[(0,o.jsx)("h2",{style:c.header,children:"Interactive Document Chunking"}),(0,o.jsxs)("div",{style:c.strategySelector,children:[(0,o.jsx)("label",{style:c.label,children:"Chunking Strategy"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>n("sliding"),style:{...c.button,..."sliding"===e?c.activeButton:c.inactiveButton},children:"Sliding Window"}),(0,o.jsx)("button",{onClick:()=>n("semantic"),style:{...c.button,..."semantic"===e?c.activeButton:c.inactiveButton},children:"Semantic"})]})]}),(0,o.jsxs)("div",{style:c.controlRow,children:[(0,o.jsxs)("div",{style:c.controlGroup,children:[(0,o.jsx)("label",{style:c.label,children:"Max Chunk Size (chars)"}),(0,o.jsx)("input",{type:"number",value:t,onChange:e=>s(parseInt(e.target.value)),style:c.input})]}),(0,o.jsxs)("div",{style:c.controlGroup,children:[(0,o.jsx)("label",{style:c.label,children:"Chunk Overlap (chars)"}),(0,o.jsx)("input",{type:"number",value:i,onChange:e=>r(parseInt(e.target.value)),style:c.input})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:c.label,children:"Sample Document"}),(0,o.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),style:c.textarea})]}),(0,o.jsx)("button",{onClick:()=>{let n,s=[];const o=JSON.parse(u),r=o.content,a=r.length;if("sliding"===e){n=Math.ceil((a-i)/(t-i));for(let e=0;e<n;e++){const n=e*(t-i),c=Math.min(n+t,a);s.push({content:r.substring(n,c),metadata:{...o.metadata,chunkIndex:e}})}}else if("semantic"===e){const e=r.split("\n\n");let n="";for(const i of e)n.length+i.length<=t?n+=(n?"\n\n":"")+i:(s.push({content:n,metadata:{...o.metadata}}),n=i);n&&s.push({content:n,metadata:{...o.metadata}})}d({chunkCount:s.length,chunks:s,strategy:e})},style:c.runButton,children:"Run Chunking"}),l&&(0,o.jsxs)("div",{style:c.results,children:[(0,o.jsx)("h3",{style:c.resultHeader,children:"Results"}),(0,o.jsxs)("p",{children:["Strategy: ",(0,o.jsx)("strong",{children:l.strategy})]}),(0,o.jsxs)("p",{children:["Generated ",(0,o.jsx)("strong",{children:l.chunkCount})," chunks"]}),(0,o.jsxs)("div",{style:c.chunkList,children:[(0,o.jsx)("h4",{style:c.resultHeader,children:"Chunks Preview:"}),l.chunks.map(((e,n)=>(0,o.jsxs)("div",{style:c.chunk,children:[(0,o.jsxs)("div",{style:c.chunkHeader,children:["Chunk ",n+1," (",e.content.length," chars)"]}),(0,o.jsxs)("div",{style:c.chunkContent,children:[e.content.substring(0,100),e.content.length>100?"...":""]})]},n)))]})]})]})};var d=()=>{const[e,n]=(0,a.useState)(["MongoDB is a document database with horizontal scaling and high availability.","Vector search enables semantic searches using embedding similarity.","RAG enhances LLM responses with external knowledge retrieval."]),[t,s]=(0,a.useState)("openai"),[i,r]=(0,a.useState)("openai"===t?1536:384),[c,l]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),[u,m]=(0,a.useState)("// Function to generate embeddings\nasync function getEmbedding(text) {\n  const response = await embeddingModel.embed(text);\n  return response.embedding;\n}\n\n// Function to get embeddings for multiple texts\nasync function getEmbeddings(texts) {\n  const embeddings = [];\n  for (const text of texts) {\n    const embedding = await getEmbedding(text);\n    embeddings.push(embedding);\n  }\n  return embeddings;\n}\n"),p=(e,n)=>{let t=0,s=0,o=0;for(let i=0;i<e.length;i++)t+=e[i]*n[i],s+=e[i]*e[i],o+=n[i]*n[i];return s=Math.sqrt(s),o=Math.sqrt(o),0===s||0===o?0:parseFloat((t/(s*o)).toFixed(4))},g=e=>{s(e),"openai"===e?r(1536):"gte-small"===e?r(384):"custom"===e&&r(256)};return(0,o.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Embedding Generator"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Embedding Model"}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsx)("button",{onClick:()=>g("openai"),className:"px-3 py-1 rounded "+("openai"===t?"bg-blue-500 text-white":"bg-gray-200"),children:"OpenAI (1536d)"}),(0,o.jsx)("button",{onClick:()=>g("gte-small"),className:"px-3 py-1 rounded "+("gte-small"===t?"bg-blue-500 text-white":"bg-gray-200"),children:"GTE-Small (384d)"}),(0,o.jsx)("button",{onClick:()=>g("custom"),className:"px-3 py-1 rounded "+("custom"===t?"bg-blue-500 text-white":"bg-gray-200"),children:"Custom (256d)"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("label",{className:"font-semibold",children:"Text Inputs"}),(0,o.jsx)("button",{onClick:()=>{n([...e,""])},className:"text-blue-500 text-sm hover:underline",children:"+ Add Text"})]}),e.map(((t,s)=>(0,o.jsxs)("div",{className:"flex mb-2",children:[(0,o.jsx)("input",{type:"text",value:t,onChange:t=>((t,s)=>{const o=[...e];o[t]=s,n(o)})(s,t.target.value),className:"flex-grow p-2 border rounded",placeholder:"Enter text to embed"}),e.length>1&&(0,o.jsx)("button",{onClick:()=>(t=>{const s=[...e];s.splice(t,1),n(s)})(s),className:"ml-2 px-3 bg-red-100 text-red-600 rounded hover:bg-red-200",children:"\xd7"})]},s)))]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Embedding Code"}),(0,o.jsx)("div",{className:"bg-gray-800 text-green-400 p-3 rounded font-mono text-sm overflow-auto",children:(0,o.jsx)("pre",{children:u})})]}),(0,o.jsx)("button",{onClick:()=>{const n=e.map((e=>((e,n)=>{const t=[];let s=0;for(let o=0;o<e.length;o++)s+=e.charCodeAt(o);for(let o=0;o<n;o++){const e=(Math.sin(s*(o+1)*.1)+Math.sin(s*(o+2)*.2))/2;t.push(parseFloat(e.toFixed(4)))}return t})(e,i)));l(n);const t=[];for(let e=0;e<n.length;e++){const s=[];for(let t=0;t<n.length;t++)if(e===t)s.push(1);else{const o=p(n[e],n[t]);s.push(o)}t.push(s)}h(t)},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Generate Embeddings"}),c&&(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("h3",{className:"font-bold mb-2",children:"Generated Embeddings"}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full text-sm border",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-gray-100",children:[(0,o.jsx)("th",{className:"p-2 border text-left",children:"Text"}),(0,o.jsx)("th",{className:"p-2 border text-left",children:"Embedding Preview"})]})}),(0,o.jsx)("tbody",{children:c.map(((n,t)=>(0,o.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,o.jsxs)("td",{className:"p-2 border",children:[e[t].substring(0,30),e[t].length>30?"...":""]}),(0,o.jsxs)("td",{className:"p-2 border font-mono",children:["[",n.slice(0,5).join(", "),", ... ",n.length-5," more values]"]})]},t)))})]})}),d&&(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("h3",{className:"font-bold mb-2",children:"Similarity Matrix"}),(0,o.jsx)("div",{className:"overflow-x-auto bg-white p-2 border rounded",children:(0,o.jsxs)("table",{className:"text-sm",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-2"}),e.map(((e,n)=>(0,o.jsxs)("th",{className:"p-2 border",children:["Text ",n+1]},n)))]})}),(0,o.jsx)("tbody",{children:d.map(((e,n)=>(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{className:"p-2 border font-medium",children:["Text ",n+1]}),e.map(((e,t)=>(0,o.jsx)("td",{className:"p-2 border text-center "+(n===t?"bg-blue-100":e>.8?"bg-green-100":e>.5?"bg-yellow-100":"bg-red-50"),children:e.toFixed(4)},t)))]},n)))})]})})]})]})]})};var h=()=>{const[e,n]=(0,a.useState)("What security features does MongoDB Atlas offer?"),[t,s]=(0,a.useState)({useFilter:!1,productName:"MongoDB Atlas"}),[i,r]=(0,a.useState)("pipeline"),[c,l]=(0,a.useState)(null),d=[{content:"MongoDB Atlas provides multiple layers of security for your database: Network isolation with VPC peering, IP whitelisting, Advanced authentication, Field-level encryption, RBAC (Role-Based Access Control), and LDAP integration.",score:.92,metadata:{source:"mongodb-atlas.md",productName:"MongoDB Atlas",contentType:"Documentation"}},{content:"MongoDB Atlas Security Features include advanced authentication methods, network isolation, and encryption at rest and in transit.",score:.89,metadata:{source:"security-overview.md",productName:"MongoDB Atlas",contentType:"Tutorial"}},{content:"MongoDB Atlas Vector Search enables you to build vector search applications by storing embeddings and performing k-nearest neighbor (k-NN) search.",score:.72,metadata:{source:"mongodb-atlas.md",productName:"MongoDB Atlas",contentType:"Documentation"}},{content:"When implementing RAG, several factors must be considered: Knowledge Base Design, Embedding Strategy, Chunking Approach, and Retrieval Algorithms.",score:.64,metadata:{source:"rag-overview.md",productName:"RAG Framework",contentType:"Documentation"}}],h=()=>t.useFilter?`// Search pipeline with metadata filter\nconst pipeline = [\n  {\n    $vectorSearch: {\n      index: "${t.useFilter?"vector_search_index_with_filter":"vector_search_index"}",\n      queryVector: embedding,\n      path: "embedding",\n      numCandidates: 100,\n      limit: 5,\n      filter: {\n        "metadata.productName": "${t.productName}"\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      content: 1,\n      metadata: 1,\n      score: { $meta: "vectorSearchScore" }\n    }\n  }\n];`:'// Basic vector search pipeline\nconst pipeline = [\n  {\n    $vectorSearch: {\n      index: "vector_search_index",\n      queryVector: embedding,\n      path: "embedding",\n      numCandidates: 100,\n      limit: 5\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      content: 1,\n      metadata: 1,\n      score: { $meta: "vectorSearchScore" }\n    }\n  }\n];';return(0,o.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Interactive Vector Search"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Query"}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center mb-2",children:[(0,o.jsx)("input",{type:"checkbox",id:"useFilter",checked:t.useFilter,onChange:e=>s({...t,useFilter:e.target.checked}),className:"mr-2"}),(0,o.jsx)("label",{htmlFor:"useFilter",className:"font-semibold",children:"Apply Metadata Filter"})]}),t.useFilter&&(0,o.jsxs)("div",{className:"ml-6 mt-2",children:[(0,o.jsx)("label",{className:"block mb-1",children:"Product Name"}),(0,o.jsxs)("select",{value:t.productName,onChange:e=>s({...t,productName:e.target.value}),className:"p-1 border rounded",children:[(0,o.jsx)("option",{value:"MongoDB Atlas",children:"MongoDB Atlas"}),(0,o.jsx)("option",{value:"RAG Framework",children:"RAG Framework"})]})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,o.jsx)("button",{onClick:()=>r("pipeline"),className:"px-3 py-1 text-sm rounded "+("pipeline"===i?"bg-blue-500 text-white":"bg-gray-200"),children:"Pipeline View"}),(0,o.jsx)("button",{onClick:()=>r("function"),className:"px-3 py-1 text-sm rounded "+("function"===i?"bg-blue-500 text-white":"bg-gray-200"),children:"Function View"})]}),(0,o.jsx)("div",{className:"bg-gray-800 text-green-400 p-3 rounded font-mono text-sm overflow-auto",children:(0,o.jsx)("pre",{children:"pipeline"===i?h():`async function vectorSearch(query, options = {}) {\n  // Generate embedding for query\n  const embedding = await getEmbedding(query);\n  \n  // Create pipeline\n  ${h()}\n  \n  // Execute aggregation\n  const results = await collection.aggregate(pipeline).toArray();\n  return results;\n}`})})]}),(0,o.jsx)("button",{onClick:()=>{let n;n=t.useFilter?d.filter((e=>e.metadata.productName===t.productName)):[...d],n=n.map((n=>{const t=e.toLowerCase().split(" ");let s=0;t.forEach((e=>{n.content.toLowerCase().includes(e)&&(s+=.05)}));const o=Math.min(n.score+s,.99);return{...n,score:o}})),n.sort(((e,n)=>n.score-e.score)),l({query:e,results:n.slice(0,5),timestamp:(new Date).toISOString()})},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Execute Search"}),c&&(0,o.jsxs)("div",{className:"mt-4 border rounded bg-white",children:[(0,o.jsxs)("div",{className:"p-3 bg-gray-100 border-b",children:[(0,o.jsx)("h3",{className:"font-bold",children:"Search Results"}),(0,o.jsxs)("div",{className:"text-sm text-gray-500",children:['Query: "',c.query,'"']})]}),(0,o.jsx)("div",{className:"p-3",children:c.results.map(((e,n)=>(0,o.jsxs)("div",{className:"mb-3 p-3 border rounded",children:[(0,o.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,o.jsxs)("span",{className:"font-semibold text-sm",children:["Result ",n+1]}),(0,o.jsxs)("span",{className:"text-sm bg-blue-100 px-2 py-0.5 rounded",children:["Score: ",e.score.toFixed(4)]})]}),(0,o.jsx)("p",{className:"text-sm mb-2",children:e.content}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["Source: ",e.metadata.source," | Product: ",e.metadata.productName," | Type: ",e.metadata.contentType]})]},n)))})]})]})};var u=()=>{const[e,n]=(0,a.useState)("What are the security features of MongoDB Atlas?"),[t,s]=(0,a.useState)([{content:"MongoDB Atlas provides multiple layers of security for your database: Network isolation with VPC peering, IP whitelisting, Advanced authentication, Field-level encryption, RBAC (Role-Based Access Control), and LDAP integration.",score:.92,source:"mongodb-atlas.md"},{content:"MongoDB Atlas Security Features include advanced authentication methods, network isolation, and encryption at rest and in transit.",score:.89,source:"security-overview.md"}]),[i,r]=(0,a.useState)("basic"),[c,l]=(0,a.useState)({includeScores:!0,instructToUseContext:!0,instructToCite:!0,instructToSayIDK:!0}),[d,h]=(0,a.useState)(""),[u,m]=(0,a.useState)("");return(0,o.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-4",children:"RAG Prompt Builder"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"User Query"}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Retrieved Documents"}),(0,o.jsx)("div",{className:"bg-white border rounded p-2 max-h-40 overflow-y-auto",children:t.map(((e,n)=>(0,o.jsxs)("div",{className:"mb-2 p-2 border-b last:border-b-0",children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,o.jsxs)("span",{className:"font-medium",children:["Source: ",e.source]}),(0,o.jsxs)("span",{className:"text-blue-600",children:["Score: ",e.score.toFixed(2)]})]}),(0,o.jsx)("p",{className:"text-sm",children:e.content})]},n)))})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("span",{className:"mr-3 font-semibold",children:"Prompt Format:"}),(0,o.jsxs)("div",{className:"space-x-3",children:[(0,o.jsxs)("label",{className:"inline-flex items-center",children:[(0,o.jsx)("input",{type:"radio",checked:"basic"===i,onChange:()=>r("basic"),className:"mr-1"}),"Basic"]}),(0,o.jsxs)("label",{className:"inline-flex items-center",children:[(0,o.jsx)("input",{type:"radio",checked:"chat"===i,onChange:()=>r("chat"),className:"mr-1"}),"Chat Messages"]})]})]}),(0,o.jsxs)("div",{className:"ml-2 space-y-2",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:c.includeScores,onChange:e=>l({...c,includeScores:e.target.checked}),className:"mr-2"}),"Include relevance scores"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:c.instructToUseContext,onChange:e=>l({...c,instructToUseContext:e.target.checked}),className:"mr-2"}),"Instruct to use only provided context"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:c.instructToCite,onChange:e=>l({...c,instructToCite:e.target.checked}),className:"mr-2"}),"Instruct to cite sources"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:c.instructToSayIDK,onChange:e=>l({...c,instructToSayIDK:e.target.checked}),className:"mr-2"}),"Instruct to admit when information is missing"]})]})]}),(0,o.jsx)("button",{onClick:()=>{const n="basic"===i?(()=>{const n=t.map((e=>c.includeScores?`Source: ${e.source} (Score: ${e.score.toFixed(2)})\nContent: ${e.content}`:`Source: ${e.source}\nContent: ${e.content}`)).join("\n\n");let s="You are a helpful assistant.";return c.instructToUseContext&&(s+=" Answer the user's question based ONLY on the provided context."),c.instructToSayIDK&&(s+=" If the context doesn't contain relevant information, say \"I don't have enough information to answer that question.\""),c.instructToCite&&(s+=" Always cite your sources at the end of your answer."),`${s}\n\nContext:\n${n}\n\nQuestion: ${e}`})():(()=>{const n=t.map((e=>c.includeScores?`Source: ${e.source} (Score: ${e.score.toFixed(2)})\nContent: ${e.content}`:`Source: ${e.source}\nContent: ${e.content}`)).join("\n\n");let s="You are a helpful assistant.";c.instructToUseContext&&(s+=" Answer the user's question based ONLY on the provided context."),c.instructToSayIDK&&(s+=" If the context doesn't contain relevant information, say \"I don't have enough information to answer that question.\""),c.instructToCite&&(s+=" Always cite your sources at the end of your answer.");const o=[{role:"system",content:s},{role:"user",content:`Context:\n${n}\n\nQuestion: ${e}`}];return JSON.stringify(o,null,2)})();h(n);m({"What are the security features of MongoDB Atlas?":"Based on the provided context, MongoDB Atlas offers several security features:\n\n1. Network isolation with VPC peering\n2. IP whitelisting\n3. Advanced authentication\n4. Field-level encryption\n5. Role-Based Access Control (RBAC)\n6. LDAP integration\n7. Encryption at rest and in transit\n\nThese features provide multiple layers of security for your database in MongoDB Atlas.\n\nSources: mongodb-atlas.md, security-overview.md","How does RAG reduce hallucinations?":"I don't have enough information in the provided context to answer this question about how RAG reduces hallucinations."}[e]||"Based on the provided context, I can tell you that MongoDB Atlas provides comprehensive security features including network isolation, authentication methods, and encryption options to protect your data.\n\nSources: mongodb-atlas.md, security-overview.md")},className:"px-4 py-2 mb-4 bg-green-500 text-white rounded hover:bg-green-600",children:"Generate Prompt"}),d&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Generated Prompt"}),(0,o.jsx)("div",{className:"bg-gray-800 text-green-400 p-3 rounded font-mono text-sm overflow-auto max-h-60",children:(0,o.jsx)("pre",{children:d})})]}),u&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block mb-2 font-semibold",children:"Simulated LLM Response"}),(0,o.jsx)("div",{className:"bg-white border p-3 rounded",children:(0,o.jsx)("p",{className:"whitespace-pre-line",children:u})})]})]})};const m={container:{border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",margin:"20px 0",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},header:{backgroundColor:"#f5f7fa",padding:"16px",borderBottom:"1px solid #e0e0e0"},title:{fontSize:"18px",fontWeight:"bold",margin:0,marginBottom:"8px"},description:{fontSize:"14px",color:"#666",margin:0},editorSection:{padding:"16px"},label:{display:"block",fontWeight:"500",marginBottom:"8px"},codeEditor:{width:"100%",height:"240px",fontFamily:"monospace",fontSize:"14px",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f9fa",resize:"vertical"},feedback:{margin:"0 16px",padding:"12px",borderRadius:"4px",marginBottom:"16px"},successFeedback:{backgroundColor:"#d4edda",color:"#155724"},errorFeedback:{backgroundColor:"#f8d7da",color:"#721c24"},actions:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderTop:"1px solid #e0e0e0",backgroundColor:"#f8f9fa"},solutionLink:{color:"#3182ce",cursor:"pointer",textDecoration:"none"},submitButton:{padding:"8px 16px",backgroundColor:"#3182ce",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},solutionSection:{padding:"16px",borderTop:"1px solid #e0e0e0"},solutionHeader:{fontSize:"16px",fontWeight:"500",marginBottom:"8px"},solutionCode:{backgroundColor:"#f5f7fa",padding:"12px",borderRadius:"4px",fontFamily:"monospace",fontSize:"14px",overflowX:"auto",marginBottom:0}};var p=e=>{let{title:n="Complete the Code Challenge",description:t="Fill in the missing code to complete the function",initialCode:s="",solution:i="",placeholders:r=["// Your code here"],language:c="javascript"}=e;const[l,d]=(0,a.useState)(s),[h,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1);return(0,o.jsxs)("div",{style:m.container,children:[(0,o.jsxs)("div",{style:m.header,children:[(0,o.jsx)("h3",{style:m.title,children:n}),(0,o.jsx)("p",{style:m.description,children:t})]}),(0,o.jsxs)("div",{style:m.editorSection,children:[(0,o.jsx)("label",{style:m.label,children:"Your Code:"}),(0,o.jsx)("textarea",{style:m.codeEditor,value:l,onChange:e=>d(e.target.value),spellCheck:"false"})]}),p&&(0,o.jsx)("div",{style:{...m.feedback,..."success"===p.type?m.successFeedback:m.errorFeedback},children:p.message}),(0,o.jsxs)("div",{style:m.actions,children:[(0,o.jsx)("div",{children:x&&(0,o.jsx)("button",{onClick:()=>{u(!h)},style:{background:"none",border:"none",cursor:"pointer",...m.solutionLink},children:h?"Hide Solution":"Show Solution"})}),(0,o.jsx)("button",{onClick:()=>{(()=>{for(const e of r)if(l.includes(e))return!1;return!0})()?(g({type:"success",message:"Great job! Your solution has been submitted."}),b(!0)):g({type:"error",message:"Please replace all placeholder comments with your code."})},style:m.submitButton,children:"Submit"})]}),h&&(0,o.jsxs)("div",{style:m.solutionSection,children:[(0,o.jsx)("h4",{style:m.solutionHeader,children:"Solution:"}),(0,o.jsx)("pre",{style:m.solutionCode,children:i})]})]})},g=t(6313);const x={id:"rag-concepts",title:"\ud83d\udcd7 Understanding RAG Concepts"},b="Understanding Retrieval-Augmented Generation (RAG)",v={},f=[{value:"What is RAG?",id:"what-is-rag",level:2},{value:"Why Use RAG?",id:"why-use-rag",level:2},{value:"Core Components of RAG",id:"core-components-of-rag",level:2},{value:"1. Vector Database",id:"1-vector-database",level:3},{value:"2. Document Processing Pipeline",id:"2-document-processing-pipeline",level:3},{value:"3. Retrieval Mechanism",id:"3-retrieval-mechanism",level:3},{value:"4. Augmentation Strategy",id:"4-augmentation-strategy",level:3},{value:"5. LLM Interface",id:"5-llm-interface",level:3},{value:"The RAG Architecture with MongoDB Atlas",id:"the-rag-architecture-with-mongodb-atlas",level:2},{value:"Vector Search Fundamentals",id:"vector-search-fundamentals",level:2},{value:"Embeddings",id:"embeddings",level:3},{value:"Vector Similarity Metrics",id:"vector-similarity-metrics",level:3},{value:"Approximate Nearest Neighbor (ANN) Search",id:"approximate-nearest-neighbor-ann-search",level:3},{value:"Let&#39;s Check Your Understanding",id:"lets-check-your-understanding",level:2},{value:"Try It Yourself",id:"try-it-yourself",level:2},{value:"Moving Forward",id:"moving-forward",level:2}];function j(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"understanding-retrieval-augmented-generation-rag",children:"Understanding Retrieval-Augmented Generation (RAG)"})}),"\n",(0,o.jsx)(n.p,{children:"Before diving into implementation, let's understand what RAG is and why it's become such an important pattern in AI applications."}),"\n",(0,o.jsx)(n.h2,{id:"what-is-rag",children:"What is RAG?"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Retrieval-Augmented Generation (RAG)"})," is an AI architecture pattern that enhances large language models (LLMs) by retrieving relevant information from external knowledge sources before generating responses."]}),"\n",(0,o.jsx)(u,{}),"\n",(0,o.jsx)(n.p,{children:"The core workflow consists of:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Retrieval"}),": Finding relevant information from a knowledge base"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Augmentation"}),": Incorporating that information into the context"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Generation"}),": Using an LLM to generate a response based on the augmented context"]}),"\n"]}),"\n","\n",(0,o.jsx)(g.A,{}),"\n",(0,o.jsx)(n.h2,{id:"why-use-rag",children:"Why Use RAG?"}),"\n",(0,o.jsx)(n.p,{children:"RAG addresses several limitations of standalone LLMs:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Up-to-date information"}),": LLMs are trained on historical data and don't know about recent events"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Domain-specific knowledge"}),": Standard LLMs lack deep expertise in specialized domains"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Hallucination reduction"}),": By grounding responses in retrieved facts, RAG reduces fabricated answers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Data privacy"}),": Your proprietary data stays in your control rather than being sent to the LLM provider"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cost efficiency"}),": Retrieval can reduce the context length needed for complex questions"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"core-components-of-rag",children:"Core Components of RAG"}),"\n",(0,o.jsx)(n.p,{children:"A typical RAG system has these key components:"}),"\n",(0,o.jsx)(n.h3,{id:"1-vector-database",children:"1. Vector Database"}),"\n",(0,o.jsx)(n.p,{children:"Stores document embeddings and enables semantic search. MongoDB Atlas Vector Search provides this functionality with advanced features like:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"High-dimensional vector storage"}),"\n",(0,o.jsx)(n.li,{children:"Approximate nearest neighbor (ANN) search algorithms"}),"\n",(0,o.jsx)(n.li,{children:"Hybrid filtering (combining vector similarity with traditional queries)"}),"\n",(0,o.jsx)(n.li,{children:"Horizontal scaling for large collections"}),"\n"]}),"\n",(0,o.jsx)(h,{}),"\n",(0,o.jsx)(n.h3,{id:"2-document-processing-pipeline",children:"2. Document Processing Pipeline"}),"\n",(0,o.jsx)(n.p,{children:"Transforms raw documents into searchable chunks and embeddings:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Document loading from various sources"}),"\n",(0,o.jsx)(n.li,{children:"Text chunking strategies"}),"\n",(0,o.jsx)(n.li,{children:"Embedding generation"}),"\n",(0,o.jsx)(n.li,{children:"Metadata extraction"}),"\n"]}),"\n",(0,o.jsx)(l,{}),"\n",(0,o.jsx)(n.p,{children:"Let's try implementing your own document chunking function:"}),"\n",(0,o.jsx)(p,{title:"Implement a Document Chunker",description:"Complete the chunkDocument function to split the document into chunks using a sliding window approach",initialCode:"async function chunkDocument(document, maxChunkSize = 500, overlap = 50) {\nconst chunks = [];\nconst content = document.content;\n\n// CODE_BLOCK_1: Your chunking logic here\n// Implement sliding window chunking\n\nreturn chunks;\n}",solution:"async function chunkDocument(document, maxChunkSize = 500, overlap = 50) {\nconst chunks = [];\nconst content = document.content;\n\n// Implement sliding window chunking\nfor (let i = 0; i < content.length; i += (maxChunkSize - overlap)) {\n  const chunk = content.substring(i, i + maxChunkSize);\n  chunks.push({\n    documentId: document.id,\n    content: chunk,\n    metadata: {\n      ...document.metadata,\n      chunkIndex: chunks.length\n    }\n  });\n  \n  // Stop if we've reached the end of the content\n  if (i + maxChunkSize >= content.length) break;\n}\n\nreturn chunks;\n}",placeholders:["// CODE_BLOCK_1: Your chunking logic here"]}),"\n",(0,o.jsx)(n.h3,{id:"3-retrieval-mechanism",children:"3. Retrieval Mechanism"}),"\n",(0,o.jsx)(n.p,{children:"Finds the most relevant information given a query:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Vector similarity search"}),"\n",(0,o.jsx)(n.li,{children:"Re-ranking for relevance"}),"\n",(0,o.jsx)(n.li,{children:"Metadata filtering"}),"\n",(0,o.jsx)(n.li,{children:"Results fusion (combining multiple retrieval methods)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Let's explore how vector search works with this interactive demo:"}),"\n",(0,o.jsx)(p,{title:"Implement Vector Search",description:"Complete the vectorSearch function to perform a semantic search using MongoDB's $vectorSearch stage",initialCode:'async function vectorSearch(query) {\n// Generate embedding for query\nconst queryEmbedding = await getEmbedding(query);\n\n// CODE_BLOCK_2: Create the aggregation pipeline\nconst pipeline = [\n  // Add the $vectorSearch stage here\n  \n  {\n    $project: {\n      _id: 0,\n      content: 1,\n      metadata: 1,\n      score: { $meta: "vectorSearchScore" }\n    }\n  },\n  {\n    $limit: 5\n  }\n];\n\n// Execute the pipeline\nconst results = await collection.aggregate(pipeline).toArray();\nreturn results;\n}',solution:'async function vectorSearch(query) {\n// Generate embedding for query\nconst queryEmbedding = await getEmbedding(query);\n\n// Create the aggregation pipeline\nconst pipeline = [\n  {\n    $vectorSearch: {\n      index: "vector_search_index",\n      queryVector: queryEmbedding,\n      path: "embedding",\n      numCandidates: 100,\n      limit: 10\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      content: 1,\n      metadata: 1,\n      score: { $meta: "vectorSearchScore" }\n    }\n  },\n  {\n    $limit: 5\n  }\n];\n\n// Execute the pipeline\nconst results = await collection.aggregate(pipeline).toArray();\nreturn results;\n}',placeholders:["// CODE_BLOCK_2: Create the aggregation pipeline"]}),"\n",(0,o.jsx)(n.h3,{id:"4-augmentation-strategy",children:"4. Augmentation Strategy"}),"\n",(0,o.jsx)(n.p,{children:"How retrieved content is added to the prompt:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Document concatenation"}),"\n",(0,o.jsx)(n.li,{children:"Structured formatting"}),"\n",(0,o.jsx)(n.li,{children:"Relevance scoring"}),"\n",(0,o.jsx)(n.li,{children:"Dynamic prompt construction"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"5-llm-interface",children:"5. LLM Interface"}),"\n",(0,o.jsx)(n.p,{children:"The generation component that produces the final output:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Prompt engineering"}),"\n",(0,o.jsx)(n.li,{children:"Response generation"}),"\n",(0,o.jsx)(n.li,{children:"Output formatting"}),"\n",(0,o.jsx)(n.li,{children:"Fallback handling"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"the-rag-architecture-with-mongodb-atlas",children:"The RAG Architecture with MongoDB Atlas"}),"\n",(0,o.jsx)(n.p,{children:"When building RAG with MongoDB Atlas, the architecture typically looks like this:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"MongoDB Atlas"})," serves as the vector database"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Embedding models"})," (like OpenAI's ",(0,o.jsx)(n.code,{children:"text-embedding-3-small"}),") create vector representations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"mongodb-rag library"})," handles document processing and retrieval"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"LLM providers"})," (OpenAI, Anthropic, etc.) generate the final responses"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"In the following sections, you'll implement each piece of this architecture to build a complete RAG system."}),"\n",(0,o.jsx)(n.h2,{id:"vector-search-fundamentals",children:"Vector Search Fundamentals"}),"\n",(0,o.jsx)(n.p,{children:"Before moving on, it's important to understand some key concepts about vector search:"}),"\n",(0,o.jsx)(n.h3,{id:"embeddings",children:"Embeddings"}),"\n",(0,o.jsx)(n.p,{children:'Embeddings are numerical representations of text, images, or other data that capture semantic meaning.\nSimilar concepts have similar vector representations, enabling "similarity search."'}),"\n",(0,o.jsx)(n.p,{children:"For example, these sentences would have similar embeddings:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:'"The dog chased the ball"'}),"\n",(0,o.jsx)(n.li,{children:'"A canine pursued a round toy"'}),"\n"]}),"\n",(0,o.jsx)(d,{}),"\n",(0,o.jsx)(n.h3,{id:"vector-similarity-metrics",children:"Vector Similarity Metrics"}),"\n",(0,o.jsx)(n.p,{children:"Different distance functions measure similarity between vectors:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cosine similarity"}),": Measures the angle between vectors (1.0 = identical direction)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Euclidean distance"}),": Measures straight-line distance between points"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dot product"}),": Simple multiplication of vector components"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"approximate-nearest-neighbor-ann-search",children:"Approximate Nearest Neighbor (ANN) Search"}),"\n",(0,o.jsx)(n.p,{children:"For large vector collections, exact search is inefficient. ANN algorithms like HNSW (Hierarchical Navigable Small Worlds) provide faster results with minimal accuracy trade-offs."}),"\n",(0,o.jsx)(n.h2,{id:"lets-check-your-understanding",children:"Let's Check Your Understanding"}),"\n",(0,o.jsx)(r.A,{title:"RAG Concepts Check",questions:[{question:"What are the three main stages in the RAG workflow?",options:["Vectorization, Augmentation, Generation","Retrieval, Augmentation, Generation","Retrieval, Analysis, Generation","Research, Augmentation, Generation"],correctIndex:1,explanation:"The RAG (Retrieval-Augmented Generation) workflow consists of three main stages: Retrieval (finding relevant information from a knowledge base), Augmentation (incorporating that information into the context), and Generation (using an LLM to generate a response based on the augmented context)."},{question:"Which limitation of standalone LLMs does RAG address?",options:["Slow processing speed","Limited creative capabilities","Hallucination reduction","High energy consumption"],correctIndex:2,explanation:"RAG addresses several limitations of standalone LLMs including hallucination reduction. By grounding responses in retrieved facts, RAG reduces fabricated answers."},{question:"What similarity metrics does MongoDB Atlas Vector Search support?",options:["Only cosine similarity","Cosine similarity and Euclidean distance","Cosine similarity, Euclidean distance, and dot product","Only Euclidean distance"],correctIndex:2,explanation:"MongoDB Atlas Vector Search supports three similarity metrics: cosine similarity, Euclidean distance, and dot product."},{question:"What is an embedding in the context of vector search?",options:["A way to compress documents to save storage space","A numerical representation that captures semantic meaning","A method for encrypting sensitive information","A technique for translating text between languages"],correctIndex:1,explanation:"Embeddings are numerical representations of text, images, or other data that capture semantic meaning. Similar concepts have similar vector representations, enabling 'similarity search.'"},{question:"Why is Approximate Nearest Neighbor (ANN) search used in vector databases?",options:["It provides more accurate results than exact search","It's the only search method available for vector databases","It's more efficient for large collections with minimal accuracy trade-offs","It requires less storage space for embeddings"],correctIndex:2,explanation:"For large vector collections, exact search is inefficient. ANN algorithms like HNSW (Hierarchical Navigable Small Worlds) provide faster results with minimal accuracy trade-offs."}]}),"\n",(0,o.jsx)(n.h2,{id:"try-it-yourself",children:"Try It Yourself"}),"\n",(0,o.jsx)(n.p,{children:"Now that you've learned about the fundamentals of RAG, try building your own prompt construction function:"}),"\n",(0,o.jsx)(p,{title:"Implement a RAG Prompt Builder",description:"Complete the function to create a prompt that includes context from retrieved documents",initialCode:"function createRagPrompt(query, retrievedDocuments) {\n// CODE_BLOCK_3: Format the retrieved documents into context\n\n// Create the prompt with the formatted context\nconst prompt = `Answer the question based on the following context.\nIf the context doesn't contain relevant information, say \"I don't have enough information to answer that question.\"\n\nContext:\n${context}\n\nQuestion: ${query}`;\n\nreturn prompt;\n}",solution:"function createRagPrompt(query, retrievedDocuments) {\n// Format the retrieved documents into context\nconst context = retrievedDocuments\n  .map(doc => `Source: ${doc.source}\\nContent: ${doc.content}`)\n  .join('\\n\\n');\n\n// Create the prompt with the formatted context\nconst prompt = `Answer the question based on the following context.\nIf the context doesn't contain relevant information, say \"I don't have enough information to answer that question.\"\n\nContext:\n${context}\n\nQuestion: ${query}`;\n\nreturn prompt;\n}",placeholders:["// CODE_BLOCK_3: Format the retrieved documents into context"]}),"\n",(0,o.jsx)(n.h2,{id:"moving-forward",children:"Moving Forward"}),"\n",(0,o.jsx)(n.p,{children:"Now that you understand the core concepts behind RAG, let's set up your MongoDB Atlas environment to support vector search capabilities."})]})}function y(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(j,{...e})}):j(e)}},5131:function(e,n,t){t.d(n,{A:function(){return i}});var s=t(6540),o=t(4848);function i(e){let{title:n="Check Your Knowledge",questions:t=[]}=e;const[i,r]=(0,s.useState)(Array(t.length).fill(null)),[a,c]=(0,s.useState)(!1),[l,d]=(0,s.useState)(Array(t.length).fill(!1)),[h,u]=(0,s.useState)(0),m=i.reduce(((e,n,s)=>n===t[s].correctIndex?e+1:e),0);return(0,o.jsxs)("div",{className:"quiz-container",children:[(0,o.jsxs)("div",{className:"quiz-header",children:[(0,o.jsx)("h3",{children:n}),a&&(0,o.jsxs)("div",{className:"quiz-score",children:["Score: ",(0,o.jsx)("strong",{children:m})," / ",t.length]})]}),(0,o.jsxs)("div",{className:"quiz-question "+(a?i[h]===t[h].correctIndex?"correct-answer":"incorrect-answer":""),children:[(0,o.jsxs)("div",{className:"question-text",children:[(0,o.jsxs)("strong",{children:["Question ",h+1,":"]})," ",t[h].question]}),(0,o.jsx)("div",{className:"options-container",children:t[h].options.map(((e,n)=>(0,o.jsx)("div",{className:`option ${i[h]===n?"selected-option":""} ${a&&n===t[h].correctIndex?"correct-option":a&&i[h]===n?"incorrect-option":""}`,onClick:()=>!a&&((e,n)=>{const t=[...i];t[e]=n,r(t)})(h,n),children:(0,o.jsx)("div",{className:"option-text",children:e})},n)))}),a&&(0,o.jsxs)("div",{className:"explanation-section",children:[(0,o.jsx)("button",{className:"explanation-toggle",onClick:()=>(e=>{const n=[...l];n[e]=!n[e],d(n)})(h),children:l[h]?"Hide Explanation":"Show Explanation"}),l[h]&&(0,o.jsx)("div",{className:"explanation",children:t[h].explanation})]})]}),(0,o.jsxs)("div",{className:"quiz-controls",children:[(0,o.jsx)("button",{onClick:()=>{h>0&&u(h-1)},disabled:0===h,className:"back-button",children:"Back"}),(0,o.jsx)("button",{onClick:()=>{h<t.length-1&&u(h+1)},disabled:h===t.length-1,className:"next-button",children:"Next"}),a?(0,o.jsx)("button",{onClick:()=>{r(Array(t.length).fill(null)),c(!1),d(Array(t.length).fill(!1)),u(0)},className:"reset-button",children:"Try Again"}):(0,o.jsx)("button",{onClick:()=>{c(!0)},disabled:i.some((e=>null===e)),className:"check-button",children:"Check Answers"})]})]})}},6313:function(e,n,t){t.d(n,{A:function(){return l}});var s=t(6540),o=t(2656),i=t(312),r=t.n(i),a=t(4848);const c=[{id:1,title:"User Query",description:"The user submits a question, such as 'How does MongoDB Atlas Vector Search work?'",code:'const query = "How does MongoDB Atlas Vector Search work?";'},{id:2,title:"Vector Search",description:"The system retrieves relevant documents using vector search.",code:"const searchResults = await collection.aggregate([\n      { $vectorSearch: { queryVector: embedding, path: 'embedding', numCandidates: 100, limit: 10 } }\n    ]);"},{id:3,title:"Augmentation",description:"Retrieved documents are injected into the LLM prompt.",code:"const augmentedPrompt = `Context: {retrievedDocs}\\n\\nQuestion: {query}`;"},{id:4,title:"LLM Response",description:"The LLM generates an answer based on the augmented prompt.",code:"const response = await openai.chat.completions.create({\n      model: 'gpt-3.5-turbo',\n      messages: [{ role: 'system', content: 'Answer based on the provided context only.' },\n                 { role: 'user', content: augmentedPrompt }]\n    });"}];function l(){const[e,n]=(0,s.useState)(0),[t,i]=(0,s.useState)(!1),l=c[e];return(0,a.jsxs)("div",{className:"rag-container",children:[(0,a.jsx)("h2",{className:"rag-title",children:"How RAG Works"}),(0,a.jsxs)(o.P.div,{className:"rag-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,a.jsx)("span",{className:"rag-step-number",children:l.id}),(0,a.jsxs)("div",{className:"rag-step-content",children:[(0,a.jsx)("h3",{className:"rag-step-title",children:l.title}),(0,a.jsx)("p",{className:"rag-step-description",children:l.description}),(0,a.jsx)("button",{className:"rag-code-button",onClick:()=>i(!0),children:"View Code"})]})]},l.id),(0,a.jsxs)("div",{className:"rag-nav-buttons",children:[(0,a.jsx)("button",{className:"rag-nav-button",onClick:()=>{e>0&&n(e-1)},disabled:0===e,children:"\u25c0 Previous"}),(0,a.jsx)("button",{className:"rag-nav-button",onClick:()=>{e<c.length-1&&n(e+1)},disabled:e===c.length-1,children:"Next \u25b6"})]}),t&&(0,a.jsxs)(r(),{isOpen:t,onRequestClose:()=>i(!1),contentLabel:"Code Example",className:"rag-modal",overlayClassName:"rag-modal-overlay",children:[(0,a.jsxs)("h2",{className:"rag-modal-title",children:[l.title," - Code Example"]}),(0,a.jsx)("pre",{className:"rag-code-block",children:(0,a.jsx)("code",{children:l.code})}),(0,a.jsx)("button",{className:"rag-close-button",onClick:()=>i(!1),children:"Close"})]})]})}}}]);