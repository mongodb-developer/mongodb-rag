"use strict";(self.webpackChunkmongodb_rag_docs=self.webpackChunkmongodb_rag_docs||[]).push([[30],{5393:function(e,n,o){o(6540),o(9382),o(9030),o(4848)},7819:function(e,n,o){o.r(n),o.d(n,{assets:function(){return a},contentTitle:function(){return c},default:function(){return u},frontMatter:function(){return i},metadata:function(){return t},toc:function(){return l}});var t=JSON.parse('{"id":"workshop/setup-mongodb","title":"\ud83d\udc50 Setting up MongoDB Atlas","description":"In this section, you\'ll create and configure a MongoDB Atlas cluster with Vector Search capabilities to serve as the foundation for your RAG application.","source":"@site/docs/workshop/setup-mongodb.md","sourceDirName":"workshop","slug":"/workshop/setup-mongodb","permalink":"/mongodb-rag/docs/workshop/setup-mongodb","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/mongodb-rag/tree/main/mongodb-rag-docs/docs/workshop/setup-mongodb.md","tags":[],"version":"current","frontMatter":{"id":"setup-mongodb","title":"\ud83d\udc50 Setting up MongoDB Atlas"},"sidebar":"docs","previous":{"title":"\ud83d\udcd7 Understanding RAG Concepts","permalink":"/mongodb-rag/docs/workshop/rag-concepts"},"next":{"title":"\ud83d\udc50 Creating Vector Embeddings","permalink":"/mongodb-rag/docs/workshop/create-embeddings"}}'),r=o(4848),s=o(8453);o(9382),o(5393);const i={id:"setup-mongodb",title:"\ud83d\udc50 Setting up MongoDB Atlas"},c="Setting up MongoDB Atlas for Vector Search",a={},l=[{value:"Creating a MongoDB Atlas Account",id:"creating-a-mongodb-atlas-account",level:2},{value:"Deploying a MongoDB Atlas Cluster",id:"deploying-a-mongodb-atlas-cluster",level:2},{value:"Configuring Database Access",id:"configuring-database-access",level:2},{value:"Configuring Network Access",id:"configuring-network-access",level:2},{value:"Loading Sample Data (Optional)",id:"loading-sample-data-optional",level:2},{value:"Getting Your Connection String",id:"getting-your-connection-string",level:2},{value:"Creating a .env File",id:"creating-a-env-file",level:2},{value:"For the CLI Gurus",id:"for-the-cli-gurus",level:3},{value:"Testing Your Connection",id:"testing-your-connection",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"setting-up-mongodb-atlas-for-vector-search",children:"Setting up MongoDB Atlas for Vector Search"})}),"\n",(0,r.jsx)(n.p,{children:"In this section, you'll create and configure a MongoDB Atlas cluster with Vector Search capabilities to serve as the foundation for your RAG application."}),"\n",(0,r.jsx)(n.h2,{id:"creating-a-mongodb-atlas-account",children:"Creating a MongoDB Atlas Account"}),"\n",(0,r.jsx)(n.p,{children:"If you don't already have a MongoDB Atlas account, you'll need to create one:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://mdb.link/rag-signup",children:"MongoDB Atlas"})]}),"\n",(0,r.jsx)(n.li,{children:"Sign up for a free account"}),"\n",(0,r.jsx)(n.li,{children:"Complete the initial setup process"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"deploying-a-mongodb-atlas-cluster",children:"Deploying a MongoDB Atlas Cluster"}),"\n",(0,r.jsx)(n.p,{children:"Once you have an account, follow these steps to create a new cluster:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Log in to your ",(0,r.jsx)(n.a,{href:"https://cloud.mongodb.com",children:"MongoDB Atlas account"})]}),"\n",(0,r.jsx)(n.li,{children:'Click the "Build a Database" button'}),"\n",(0,r.jsx)(n.li,{children:"Choose your preferred cloud provider (AWS, GCP, or Azure)"}),"\n",(0,r.jsx)(n.li,{children:'Select the "M0 Free Tier" cluster for this workshop'}),"\n",(0,r.jsx)(n.li,{children:"Choose a region close to your location"}),"\n",(0,r.jsx)(n.li,{children:'Click "Create" to deploy your cluster'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"insert screenshot here"}),"\n",(0,r.jsx)(n.p,{children:"While your cluster is being created (which takes a few minutes), let's configure access settings."}),"\n",(0,r.jsx)(n.h2,{id:"configuring-database-access",children:"Configuring Database Access"}),"\n",(0,r.jsx)(n.p,{children:"You'll need to create a database user to connect to your cluster:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'In the sidebar, click "Database Access" under SECURITY'}),"\n",(0,r.jsx)(n.li,{children:'Click "Add New Database User"'}),"\n",(0,r.jsx)(n.li,{children:"Enter a username and password (save these credentials!)"}),"\n",(0,r.jsx)(n.li,{children:'Select "Built-in Role" and choose "Read and write to any database"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Add User"'}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"Store your database credentials securely. You'll need them to connect to your cluster."})}),"\n",(0,r.jsx)(n.h2,{id:"configuring-network-access",children:"Configuring Network Access"}),"\n",(0,r.jsx)(n.p,{children:"Next, configure network access to allow connections from your development environment:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'In the sidebar, click "Network Access" under SECURITY'}),"\n",(0,r.jsx)(n.li,{children:'Click "Add IP Address"'}),"\n",(0,r.jsx)(n.li,{children:'For this workshop, select "Allow Access from Anywhere" (not recommended for production)'}),"\n",(0,r.jsx)(n.li,{children:'Click "Confirm"'}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"loading-sample-data-optional",children:"Loading Sample Data (Optional)"}),"\n",(0,r.jsx)(n.p,{children:"MongoDB Atlas provides sample datasets that you can use for this workshop:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'On your cluster\'s overview page, click "Browse Collections"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Load Sample Dataset"'}),"\n",(0,r.jsx)(n.li,{children:"Wait for the sample data to be loaded"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"insert screenshot here"}),"\n",(0,r.jsx)(n.h2,{id:"getting-your-connection-string",children:"Getting Your Connection String"}),"\n",(0,r.jsx)(n.p,{children:"To connect to your cluster from your application, you'll need your connection string:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'On your cluster\'s overview page, click "Connect"'}),"\n",(0,r.jsx)(n.li,{children:'Select "Connect your application"'}),"\n",(0,r.jsx)(n.li,{children:'Choose "Node.js" as your driver and the appropriate version'}),"\n",(0,r.jsx)(n.li,{children:"Copy the connection string"}),"\n",(0,r.jsxs)(n.li,{children:["Replace ",(0,r.jsx)(n.code,{children:"<password>"})," with your database user's password"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Save this connection string - you'll use it in the next sections."}),"\n",(0,r.jsx)(n.h2,{id:"creating-a-env-file",children:"Creating a .env File"}),"\n",(0,r.jsxs)(n.p,{children:["Let's create a ",(0,r.jsx)(n.code,{children:".env"})," file to store your configuration. Create a new file named ",(0,r.jsx)(n.code,{children:".env"})," in your project directory with the following content:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"MONGODB_URI=mongodb+srv://username:password@clustername.mongodb.net/\nEMBEDDING_PROVIDER=openai  # Can be openai, ollama, etc.\nEMBEDDING_API_KEY=your-api-key-here  # Your OpenAI API key or leave empty for Ollama\nEMBEDDING_MODEL=text-embedding-3-small  # For OpenAI or your preferred model\n"})}),"\n",(0,r.jsx)(n.p,{children:"Replace the placeholder values with your actual credentials."}),"\n",(0,r.jsx)(n.h3,{id:"for-the-cli-gurus",children:"For the CLI Gurus"}),"\n",(0,r.jsxs)(n.p,{children:["If you're a CLI guru, you can use the ",(0,r.jsx)(n.code,{children:"mdb"})," CLI to create a new cluster and connect to it."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx mongodb-rag init\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will prompt you for all of the variables required to build a RAG App."}),"\n",(0,r.jsx)(n.p,{children:"Once you have the .mongodb-rag.json file created, you can also create a .env from the same values using the following:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx mongodb-rag create-env\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-your-connection",children:"Testing Your Connection"}),"\n",(0,r.jsxs)(n.p,{children:["Let's verify that your connection is working. Create a file named ",(0,r.jsx)(n.code,{children:"test-connection.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { MongoClient } = require('mongodb');\nrequire('dotenv').config();\n\nasync function testConnection() {\n  const uri = process.env.MONGODB_URI;\n  const client = new MongoClient(uri);\n  \n  try {\n    await client.connect();\n    console.log('\u2705 Successfully connected to MongoDB Atlas');\n    \n    const databases = await client.db().admin().listDatabases();\n    console.log('Available databases:');\n    databases.databases.forEach(db => console.log(` - ${db.name}`));\n    \n  } catch (error) {\n    console.error('\u274c Connection failed:', error);\n  } finally {\n    await client.close();\n  }\n}\n\ntestConnection();\n"})}),"\n",(0,r.jsx)(n.p,{children:"Run the script with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"node test-connection.js\n"})}),"\n",(0,r.jsx)(n.p,{children:'If you see "Successfully connected to MongoDB Atlas" and a list of databases, your connection is working correctly!'}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you have set up MongoDB Atlas with Vector Search capabilities, you're ready to create vector embeddings and store them in your cluster."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:function(e,n,o){o.d(n,{R:function(){return i},x:function(){return c}});var t=o(6540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}},9382:function(e,n,o){o(6540),o(4848)}}]);