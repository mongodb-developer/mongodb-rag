"use strict";(self.webpackChunkmongodb_rag_docs=self.webpackChunkmongodb_rag_docs||[]).push([[7443],{4053:function(e,n,r){r.r(n),r.d(n,{assets:function(){return t},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return o},metadata:function(){return i},toc:function(){return a}});var i=JSON.parse('{"id":"api-reference","title":"API Reference","description":"MongoRAG Class","source":"@site/docs/api-reference.md","sourceDirName":".","slug":"/api-reference","permalink":"/mongodb-rag/docs/api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/mongodb-rag/tree/main/mongodb-rag-docs/docs/api-reference.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"api-reference","title":"API Reference","sidebar_position":5},"sidebar":"docs","previous":{"title":"Create RAG App","permalink":"/mongodb-rag/docs/create-rag-app"},"next":{"title":"\ud83c\udf4dRAG Workshop Introduction","permalink":"/mongodb-rag/docs/workshop/Introduction/introduction"}}'),s=r(4848),c=r(8453);const o={id:"api-reference",title:"API Reference",sidebar_position:5},d="API Reference",t={},a=[{value:"MongoRAG Class",id:"mongorag-class",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Methods",id:"methods",level:3},{value:"connect()",id:"connect",level:4},{value:"disconnect()",id:"disconnect",level:4},{value:"ingestBatch()",id:"ingestbatch",level:4},{value:"search()",id:"search",level:4},{value:"Type Definitions",id:"type-definitions",level:3},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"Basic Configuration",id:"basic-configuration",level:4},{value:"Advanced Configuration",id:"advanced-configuration",level:4},{value:"Error Handling",id:"error-handling",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,s.jsx)(n.h2,{id:"mongorag-class",children:"MongoRAG Class"}),"\n",(0,s.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,s.jsx)(n.p,{children:"Creates a new instance of the MongoRAG class."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const rag = new MongoRAG({\n  mongoUrl: string,\n  database: string,\n  collection: string,\n  embedding: {\n    provider: 'openai',\n    apiKey: string,\n    model?: string,\n    batchSize?: number,\n    dimensions?: number\n  },\n  search?: {\n    maxResults?: number,\n    minScore?: number,\n    similarityMetric?: 'cosine' | 'dotProduct' | 'euclidean'\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.mongoUrl"})," (string, required): MongoDB connection URI."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.database"})," (string, required): Default MongoDB database name."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.collection"})," (string, required): Default MongoDB collection name."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.embedding"})," (object, required):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"provider"})," (string, required): Embedding provider (",(0,s.jsx)(n.code,{children:"openai"})," is supported)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"apiKey"})," (string, required): API key for the embedding provider."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"model"})," (string, optional): Model name (default: ",(0,s.jsx)(n.code,{children:"'text-embedding-3-small'"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"batchSize"})," (number, optional): Batch size for embedding generation (default: ",(0,s.jsx)(n.code,{children:"100"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dimensions"})," (number, optional): Number of dimensions in the embedding space (default: ",(0,s.jsx)(n.code,{children:"1536"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.search"})," (object, optional):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"maxResults"})," (number, optional): Maximum number of results to return (default: ",(0,s.jsx)(n.code,{children:"5"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"minScore"})," (number, optional): Minimum similarity score threshold (default: ",(0,s.jsx)(n.code,{children:"0.7"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"similarityMetric"})," (string, optional): Similarity function for search (",(0,s.jsx)(n.code,{children:"cosine"}),", ",(0,s.jsx)(n.code,{children:"dotProduct"}),", ",(0,s.jsx)(n.code,{children:"euclidean"}),"). Defaults to ",(0,s.jsx)(n.code,{children:"'cosine'"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h4,{id:"connect",children:"connect()"}),"\n",(0,s.jsx)(n.p,{children:"Establishes connection to MongoDB."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await rag.connect();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"disconnect",children:"disconnect()"}),"\n",(0,s.jsx)(n.p,{children:"Closes the MongoDB connection."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await rag.disconnect();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"ingestbatch",children:"ingestBatch()"}),"\n",(0,s.jsx)(n.p,{children:"Ingests a batch of documents into the vector store."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await rag.ingestBatch(documents, {\n  batchSize?: number,\n  preprocessor?: Function\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"documents"})," (array, required): Array of documents to ingest"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"options"})," (object, optional):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"batchSize"}),": Override default batch size"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"preprocessor"}),": Custom preprocessor for this batch"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," Promise<void>"]}),"\n",(0,s.jsx)(n.h4,{id:"search",children:"search()"}),"\n",(0,s.jsx)(n.p,{children:"Performs a vector search for similar documents."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const results = await rag.search(query, {\n  database?: string,\n  collection?: string,\n  maxResults?: number,\n  minScore?: number\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"query"})," (string, required): Search query"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"options"})," (object, optional):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"maxResults"}),": Maximum number of results"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"minScore"}),": Minimum similarity score"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"filter"}),": MongoDB filter for metadata"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," Promise<Array<SearchResult>>"]}),"\n",(0,s.jsx)(n.h3,{id:"type-definitions",children:"Type Definitions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface SearchResult {\n  content: string;\n  documentId: string;\n  metadata?: Record<string, any>;\n  score: number;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,s.jsx)(n.h4,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const rag = new MongoRAG({\n  mongoUrl: 'mongodb+srv://your-connection-string',\n  database: 'ragdb',\n  collection: 'documents',\n  embedding: {\n    provider: 'openai',\n    apiKey: process.env.EMBEDDING_API_KEY\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const rag = new MongoRAG({\n  mongoUrl: 'mongodb+srv://your-connection-string',\n  database: 'ragdb',\n  collection: 'documents',\n  embedding: {\n    provider: 'openai',\n    apiKey: process.env.EMBEDDING_API_KEY,\n    model: 'text-embedding-ada-002',\n    batchSize: 100,\n    dimensions: 1536\n  },\n  search: {\n    maxResults: 10,\n    minScore: 0.8,\n    similarityMetric: 'dotProduct'\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"The library provides specific error types:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  await rag.search('query');\n} catch (error) {\n  console.error('An error occurred:', error.message);\n  // Handle the error appropriately\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"For more detailed examples and use cases, refer to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/mongodb-rag/docs/examples/basic-example",children:"Basic Example"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/mongodb-rag/docs/examples/advanced-example",children:"Advanced Example"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:function(e,n,r){r.d(n,{R:function(){return o},x:function(){return d}});var i=r(6540);const s={},c=i.createContext(s);function o(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);